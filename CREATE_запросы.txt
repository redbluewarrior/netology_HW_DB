CREATE TABLE IF NOT EXISTS Musical_genre(
	id SERIAL PRIMARY KEY NOT NULL,
	name VARCHAR(40) NOT NULL
);

CREATE TABLE IF NOT EXISTS Musicians(
	id SERIAL PRIMARY KEY NOT NULL,
	name VARCHAR(40) NOT NULL
);

CREATE TABLE IF NOT EXISTS Genre_and_Musician(
	genreID INTEGER NOT NULL REFERENCES Musical_genre(id),
	musicianID INTEGER NOT NULL REFERENCES Musicians(id),
	CONSTRAINT GM PRIMARY KEY (genreID, musicianID)
);

CREATE TABLE IF NOT EXISTS Albums(
	id SERIAL PRIMARY KEY NOT NULL,
	name VARCHAR(40) NOT NULL,
	date DATE NOT NULL
);

CREATE TABLE IF NOT EXISTS Musicians_Albums(
	albumID INTEGER NOT NULL REFERENCES Albums(id),
	musicianID INTEGER NOT NULL REFERENCES Musicians(id),
	CONSTRAINT AM PRIMARY KEY (albumID, musicianID)
);

CREATE TABLE IF NOT EXISTS Tracks(
	id SERIAL PRIMARY KEY NOT NULL,
	name VARCHAR(40) NOT NULL,
	duration INTEGER NOT NULL,
	albumID INTEGER NOT NULL REFERENCES Albums(id)
);

CREATE TABLE IF NOT EXISTS Collections(
	id SERIAL PRIMARY KEY NOT NULL,
	name VARCHAR(40) NOT NULL,
	date DATE NOT NULL 
);

CREATE TABLE IF NOT EXISTS Collection_Tracks(
	trackID INTEGER NOT NULL REFERENCES Tracks(id),
	collectionID INTEGER NOT NULL REFERENCES Collections(id)
);